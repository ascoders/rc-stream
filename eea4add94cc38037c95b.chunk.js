(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{814:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(a(337)),r=y(a(50)),l=y(a(44)),o=y(a(9)),u=y(a(4)),c=y(a(6)),i=y(a(309)),s=y(a(265)),h=y(a(5)),m=g(a(54)),f=y(a(89)),d=g(a(1)),p=g(a(10));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}var b=function e(){(0,h.default)(this,e)},E=a(88).Observable.fromPromise(s.default.resolve({name:["Lucy","Bob"],age:[24,32]})),v=f.default.create(function(e){return e.map(function(e){var t=[];return(0,i.default)(e).map(function(a){e[a].forEach(function(e,n){t[n]||(t[n]={}),t[n][a]=e})}),t})}),j=f.default.create(function(e){return e.map(function(e){return{dataSource:e}})}),w=function(e){function t(){(0,h.default)(this,t);var e=(0,u.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments));return e.state=new b,e.freshHighlight=function(){var t=p.findDOMNode(e);t&&(0,r.default)(t.querySelectorAll("pre")).forEach(function(e){m.highlightBlock(e)})},e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.freshHighlight()}},{key:"render",value:function(){return d.createElement("div",null,d.createElement("h1",null,"Table"),d.createElement("p",null,"For example, the back end gives us the data:"),d.createElement("pre",{className:"highlight highlight-source-json"},["{",'  "name": ["Lucy", "Bob"],','  "age": [24, 32]',"}"].join("\n")),d.createElement("p",null,"But we want:"),d.createElement("pre",{className:"highlight highlight-source-json"},["[{",'  "name": "Lucy",','  "age": 24',"}, {",'  "name": "Bob",','  "age": 32',"}]"].join("\n")),d.createElement("p",null,"Let's try to resolve this problem once and for all!"),d.createElement("h3",null,"ToObjectArray"),d.createElement("pre",{className:"highlight highlight-source-json"},["const ToObjectArray = Stream.create(stream => stream.map(data => {","  const arr: any[] = []","  Object.keys(data).map(key => {","    data[key].forEach((value: any, index: number) => {","      if (!arr[index]) {","        arr[index] = {}","      }","      arr[index][key] = value","    })","  })","  return arr","}))"].join("\n")),d.createElement("h3",null,"MapToTable"),d.createElement("pre",{className:"highlight highlight-source-json"},["const MapToTable = Stream.create(stream => stream.map(data => ({ dataSource: data })))"].join("\n")),d.createElement("p",null,"You can save the two React components and reuse it!"),d.createElement("pre",{className:"highlight highlight-source-jsx"},["<ToObjectArray stream={fetchUsers$}>","  <MapToTable>",'    <Table rowKey="name" columns={columns} />',"  </MapToTable>","</ToObjectArray>"].join("\n")),d.createElement(v,{stream:E},d.createElement(j,null,d.createElement(n.default,{rowKey:"name",columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"Age",dataIndex:"age",key:"age"}]}))))}}]),t}(d.PureComponent);t.default=w,w.defaultProps=new function e(){(0,h.default)(this,e)}}}]);