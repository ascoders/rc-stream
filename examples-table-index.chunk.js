(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{831:function(e,t,a){"use strict";a.r(t);var n=a(274),r=a.n(n),l=a(30),o=a.n(l),c=a(24),i=a.n(c),s=a(7),u=a.n(s),h=a(5),m=a.n(h),g=a(6),p=a.n(g),d=a(271),f=a.n(d),y=a(270),b=a.n(y),E=a(3),j=a.n(E),v=a(33),T=a(31),w=a.n(T),k=a(1),x=a(8),N=a(47),O=function e(){j()(this,e)},A=N.Observable.fromPromise(b.a.resolve({name:["Lucy","Bob"],age:[24,32]})),M=w.a.create(function(e){return e.map(function(e){var t=[];return f()(e).map(function(a){e[a].forEach(function(e,n){t[n]||(t[n]={}),t[n][a]=e})}),t})}),B=w.a.create(function(e){return e.map(function(e){return{dataSource:e}})}),S=function(e){function t(){j()(this,t);var e=m()(this,(t.__proto__||i()(t)).apply(this,arguments));return e.state=new O,e.freshHighlight=function(){var t=x.findDOMNode(e);t&&o()(t.querySelectorAll("pre")).forEach(function(e){v.highlightBlock(e)})},e}return p()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.freshHighlight()}},{key:"render",value:function(){return k.createElement("div",null,k.createElement("h1",null,"Table"),k.createElement("p",null,"For example, the back end gives us the data:"),k.createElement("pre",{className:"highlight highlight-source-json"},["{",'  "name": ["Lucy", "Bob"],','  "age": [24, 32]',"}"].join("\n")),k.createElement("p",null,"But we want:"),k.createElement("pre",{className:"highlight highlight-source-json"},["[{",'  "name": "Lucy",','  "age": 24',"}, {",'  "name": "Bob",','  "age": 32',"}]"].join("\n")),k.createElement("p",null,"Let's try to resolve this problem once and for all!"),k.createElement("h3",null,"ToObjectArray"),k.createElement("pre",{className:"highlight highlight-source-json"},["const ToObjectArray = Stream.create(stream => stream.map(data => {","  const arr: any[] = []","  Object.keys(data).map(key => {","    data[key].forEach((value: any, index: number) => {","      if (!arr[index]) {","        arr[index] = {}","      }","      arr[index][key] = value","    })","  })","  return arr","}))"].join("\n")),k.createElement("h3",null,"MapToTable"),k.createElement("pre",{className:"highlight highlight-source-json"},["const MapToTable = Stream.create(stream => stream.map(data => ({ dataSource: data })))"].join("\n")),k.createElement("p",null,"You can save the two React components and reuse it!"),k.createElement("pre",{className:"highlight highlight-source-jsx"},["<ToObjectArray stream={fetchUsers$}>","  <MapToTable>",'    <Table rowKey="name" columns={columns} />',"  </MapToTable>","</ToObjectArray>"].join("\n")),k.createElement(M,{stream:A},k.createElement(B,null,k.createElement(r.a,{rowKey:"name",columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"Age",dataIndex:"age",key:"age"}]}))))}}]),t}(k.PureComponent);t.default=S,S.defaultProps=new function e(){j()(this,e)}}}]);